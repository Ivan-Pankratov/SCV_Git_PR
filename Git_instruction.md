![logo](Git-Logo-1788C.png)
# Работа с Git+


## 1. Проверка наличия установленного Git
В терминале выполнить команду **git --vertion**
Если Git установлен, появится сообщение с информации о версии программы. Иначе появится сообщение об ошибке.

## 2. Установка Git
Загружаем последнюю версию Git с сайта https://git-scm.com/downloads
устанавливаем с настройками по умолчанию.

## 3. Настойка Git
При первым использованем git необходимо представиться.
Для этого надо ввести в терминале 2 команды:

```
git config --global user.name <Ваше имя английскими буквами>
git config --global user.email <Ваша почта@example.com>
```
### Примечание: 
Представился я по-русски, т.к.
* программа это позволяет;
* мой английский слаб;
* делал это в ходе семинара - времени дополнительного вобрез. 

Но всё-таки лучше пользоваться ***Английским языком***.

## 4. Инициализайция репозитория 
Чтобы **Git** начал работать, нужно создать репозиторий (папку), чтобы *Git* начал отслеживать её содержимое.

* **git init** - инициализация репозитория, по-другому, инициализация работы Git в текущей папке.


* **git status** - показывает ситуацию в репозитории: наличие неотслеживаемых файлов, файлов с изменениями и другое.

## 5. Запись изменений репозитория
После того, как мы создали папку и файл в нём, сделаем так, чтобы программа **Git** начала его отслеживать и фиксировать изменения в нём, т.е. создавать его Версии:

1. Команда __git add <название файла>__ добавляет наш файл в отстлеживаемые;
2. Команда **git commit** сохранит изменения в виде версии файла и присвоит ей уникальный код, далее **хэш-код**.
3. Команда **git diff** покажет изменения, совершённые в файле после сохранения.

Необходимо отметить разницу между простым сохранением сделанного на компьютере на случай перерыва в работе или "дабы не моргнул свет", и сохранением версии файла (ради чего вся эта история), к которой, возможно, потом захочется вернуться, например, если обнаружил, что появилось более удачное решение задачи, или по другим причинам.

### Примечание:
Вариант команды: *git commit -m"<текст>"* позволяет сохраниться и добавить краткий комментирий к версии.

### Примечание: 
Ниже приведу 2 картинки: обращение к *diff* сразу после коммита, и обращение к *diff" после дополнений в текст.
![diff](DiffAfterCommit.png)
![diff](Diff.png)

## 6. Просмотр истории коммитов.
C помощью команды **git log** можно посмотреть историю сохранений, версий, "комитов" файла. У каждого сохранения есть свой *хэш-код*, при помощи которого можно переместиться в соответствующее состояние файла (об этом в следующем пункте). 
#### Примечание: есть обычная команда и её ваирации:
* **git log** - обычное открытие лога;
* **git log --oneline** - покажет краткий список всех изменений;
* **git log --graph** - добавит визуализацию веток;
* **git reflog** - список всех сохранений головной ветви, в том числе, уже "удалённых".
```
Ниже результат команды 
git log --graph --oneline
``` 
Выведен краткий список коммитов с визуализацией веток.
![MergeFourBranches](MergeFourBranches.png)

## 7. Перемещение между сохранениями
```
**git checkout <имя сохранения>** - команда позволяет перейти в нужное сохранение, или, далее по тексту, в нужную ветку. 
```
На рисунке выше видны (жёлтым) номера хэш-кодов и комментарии к ним.
## 8. Игнорирование.
Для того чтобы исключить из отслеживания в репозитории оперделеные файлы или папки, необходимо создать файл __*.gitignore*__ . 
Дальше вносим в него шаблоны или названия файлов и папок, изменения в которых не надо отслеживать.
### Примечание: 
При этом Git обнаружит сам файл  ***.gitignore*** и будет предлагать действия с ним. Так же при слиянии веток конфликты могут возникать, в том числе, по содержанию файла  ***.gitignore*** в разных ветках.

## 9. Создание веток в Git.
По умолчанию, основная ветка в Git будет называтся **master/main**.
 __git branch <имя новой ветки>__ - команда для создания новой ветки.
Так же: 
* **git branch** - вывод всех существующих сейчас веток;
* **git checkout -b <имя новой ветки>** - создание новой ветки с одновременным переходом в неё;
* __git branch -d <имя ветки>__ - команда для удаления ветки после её слияния в другую;
* __git branch -D <имя ветки>__ - команда для удаления ветки, независимо от того, было ли её слияние в другую или нет;

## 10. Слияние веток и разрешение конфликтов.
Коианда слияния веток: **git merge <название ветки>** - "накладывает" содержимое указанной ветки на текущую ветку. При этом программа **Git** "просмотрит" слияние и выделит конфликты - то есть фрагменты текста/кода, которые присутствуют в обеих ветках и при этом отличаются по содержанию. Также программа предложит варианты решения конфликта: 
* оставить текущее содержание;
* принять входящее содержание;
* принять оба содержания (содержимое сливаемых веток будет при этом отражено последовательно).

После разрешения конфликта необходимо выполнить команду сохранения "комит разрешения конфликта" и удаления ветки, ставшей ненужной.

Например: 
```
git commit -am "Разрешили конфликт с веткой merge_error"
git branch -d merge_error
```
## 11. Работа с удаленными репозиториями.

Использование удаленного репозитория позволяет пользоваться им как облачным хранилищем для создания доступа к ресурсу сразу нескольким пользователям.
Здесь описание работы на примере сайта https://github.com/ 

1. Создём аккаунт на Github.

При первом посещении сайта https://github.com/ регистрируемся (вводим имя и другие данные о себе, электронную почту, проходим подтверждение электронной почты).

2. Создём локальный репозиторий.

Об этом выше подзагаловок 4.

3. Создём удаленный реопзиторий.

Для создания нового репозитория на сайте https://github.com/ , после авторизации в аккаунте, можно использовать кнопку "New". При этом мы окажемся в форме, где надо указать имя нового репозитория, содержание файла REDME, доступность (public/private) и некоторые другие параметры). Далее даются подсказки для трех способов создания:

* создание нового репозитория на сайте "с нуля";
* использование локального репозитория для создания репозитория на сайте;
* импоритровать код из другого удаленного репозитория. 

Идем вторым путем: локальный репозиторий у нас уже есть. 

4. Связываем удалённый репозиторий с локальным. Команды обмена данными.

Добавить удаленный репозиторий к проекту можно командой:
```
git remote add <имя для удаленного репозитория> <URL - адрес репозитория>
```
При этом необходимы несколько действий, чтобы репозитории "подружились"
* Короткая команда **git remote** выведет имя удаленного репозитория, например, "origin" (т.е. так мы можем убедиться, что будем отправлять данные туда, куда надо).
* **git branch -M main** - команда переименует главную/рабочую ветвь локального репозитория в "main", если это ещё не так. 
* **git push -u origin main** - первое обращение к команде **push** запросит ввод логина и пароля удалённого репозитория в браузере, и сопоставит ветви "main" локального репозитория ветвь "main" в удалённом репозитории "origin". 

Для получения и слияния изменений из удаленного репозитория используется команда 
```
git pull
```
Возможные при этом конфликты разрешаются аналогично конфликтам слияния ветвей локального репозитория.

Для передачи данных на удаленный сервер с локального компьютера используется команда
```
git push 
```
## 12. Работа с чужим удаленным репозиторием.

1. Копирование (клонирование) чужого репозитория.

На сайте https://github.com/ (через поиск по сайту или ссылку) можно сделать копию чужого репозитория на свой компьютер через кнопку "CODE". При этом команда одним из вариантов предложит ссылку для копирования, которую надо использовать в терминале в команде **git clone <ссылка на чужой удаленный репозиторий>**.

В проводнике программы *VS Code* появится папка с названием клонированного чужого репозитория (при желании название можно сделать своё, для этого его вводим в продолжение команды **git clone <ссылка на чужой удаленный репозиторий> <своё название>** ). Нажав на Папку правой кнопкой мыши (windows), через контекстное меню переходим в новый терминал этой папки и работаем.

2. Работа с чужим репозиторием с целью последующего предложения своего предложения в виде ветви. 

* В своём аккаунте на GitHub создаём копию чужого репозитория с помощью кнопки "Fork".
* Клонируем копию репозитория на локальный компьютер.
* Создём новую ветку.
* Добавляем файл в новую ветку файлы (например, текстовые, код, рисунки).
* Зафиксируем изменения (при слиянии ветви к чужому репозиторию, в качестве комментария по умолчанию будет предложен комментарий крайнего коммита, можно это учесть).
* Отправляем изменения на GitHub в свой репозиторий - копию чужого. 
``` 
git push -- set - upstream <имя удаленного репозитория><имя ветви>
```
Убеждаемся в наличии необходимой ветки в своей удаленной копии.
* На сайте GitHub выполняем Pull request. 

Для этого во вкладке *Pull request* сопоставляем репозитории "чужой" и "свой - клон чужого" (сайт укажет, что репозитории идентичны по главным веткам), выбираем новую ветку с предлагаемыми изменениями (сайт пишет, что конфликтов нет). Жмём кнопку "Create pull request". Оказываемся в форме слияния. При необходимости вводим сообщение для пользователя, в репозиторий которого предлагаем изменения.
